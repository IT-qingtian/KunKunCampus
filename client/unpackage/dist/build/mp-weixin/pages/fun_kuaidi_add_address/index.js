(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/fun_kuaidi_add_address/index"],{"22ef":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement;this._self._c},a=[]},"30cf":function(e,t,n){"use strict";(function(e,t){var r=n("4ea4");n("b320");r(n("66fd"));var a=r(n("c4d3"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},7355:function(e,t,n){"use strict";var r=n("9bc3"),a=n.n(r);a.a},"9bc3":function(e,t,n){},c4d3:function(e,t,n){"use strict";n.r(t);var r=n("22ef"),a=n("cdaf");for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("7355");var o=n("f0c5"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"79a5d39e",null,!1,r["a"],void 0);t["default"]=u.exports},cdaf:function(e,t,n){"use strict";n.r(t);var r=n("f8cf"),a=n.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(s);t["default"]=a.a},f8cf:function(e,t,n){"use strict";(function(e){var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("2eee")),s=r(n("c973")),o=r(n("9523")),u=n("26cb");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={data:function(){return{modify:!1,modifyId:null,id:null,userInfo_:{numberPlate:"",name:"",phoneCode:""}}},computed:f({},(0,u.mapState)("store_user",["token","userInfo"])),methods:f(f({},(0,u.mapMutations)("store_user",["add_address"])),{},{saveInfo:function(){var t=this;return(0,s.default)(a.default.mark((function n(){var r,s,o,u,c,f,i,d,l;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.t0=a.default.keys(t.userInfo_);case 1:if((n.t1=n.t0()).done){n.next=7;break}if(r=n.t1.value,t.userInfo_[r]){n.next=5;break}return n.abrupt("return",e.$showMsg("".concat(r," 值未填写")));case 5:n.next=1;break;case 7:if(!t.modify){n.next=20;break}return n.next=10,e.$httpRequest({url:"user/user_update_address",method:"post",header:{Authorization:"Bearer ".concat(t.token)},data:{id:t.id,op:t.userInfo_}});case 10:s=n.sent,o=s.data,u=o.code,c=o.data,f=o.msg,console.log(u,c,f),u?(t.userInfo[t.modifyId]=t.userinfo_,i=function(){e.$showMsg("修改失败，"+f)}):i=function(){e.$showMsg("修改失败，"+f)},e.navigateBack({success:i}),n.next=30;break;case 20:return t.add_address(t.userInfo_),n.next=23,e.$httpRequest({url:"kd/user_add_address",method:"post",header:{Authorization:"Bearer ".concat(t.token)},data:{address:t.userInfo_}});case 23:if(d=n.sent,l=d.data,console.log("添加地址结果：",l),l.code){n.next=29;break}return t.userInfo.address.map((function(e,n){JSON.stringify(e)===JSON.stringify(t.userInfo_)&&t.userInfo.address.splice(n,1)})),n.abrupt("return",e.$showMsg(l.msg));case 29:e.$showMsg(l.msg);case 30:e.navigateBack({success:function(){e.$showMsg("保存成功")}});case 31:case"end":return n.stop()}}),n)})))()},updateUserInfoName:function(e){this.userInfo_.name=e.detail.value}}),onLoad:function(t){if(Object.keys(t).length){var n=t.modifyId,r=t.id;n&&r||e.navigateBack({success:function(){e.$showMsg("参数缺失")}}),console.log("进入修改"),this.modify=!0,this.modifyId=n,this.id=r,this.userInfo_=this.userInfo.address[n]}},mounted:function(){}};t.default=i}).call(this,n("543d")["default"])}},[["30cf","common/runtime","common/vendor"]]]);