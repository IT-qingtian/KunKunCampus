{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/87634/Desktop/KunKunCampus/client/pages/order/index.vue?b36b","webpack:///C:/Users/87634/Desktop/KunKunCampus/client/pages/order/index.vue?94ae","webpack:///C:/Users/87634/Desktop/KunKunCampus/client/pages/order/index.vue?8ce9","uni-app:///pages/order/index.vue","webpack:///C:/Users/87634/Desktop/KunKunCampus/client/pages/order/index.vue?78c5","webpack:///C:/Users/87634/Desktop/KunKunCampus/client/pages/order/index.vue?7cde"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","selectType","orderList","orderList_render","methods","select_order","uni","getOrderData","url","method","getType","header","Authorization","code","msg","err","console","get_all","get_wait_pay","get_await_receving","get_processing","get_completed","get_comment","change_max_height","query","computed","len_all","len_wait_pay","len_await_receving","len_processing","len_completed","len_comment","mounted","onPullDownRefresh","onLoad","onShow"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACiCnnB;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC,yCACA;IACAC;MACA;MACA;MACA;MACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAD;kBACAE;kBACAC;kBACAT;oBACAU;oBACA;kBACA;;kBACAC;oBACAC;kBACA;gBACA;cAAA;gBAAA;gBAAA,+CAVAZ;gBAAAa;gBAAAb;gBAAAc;gBAAAC;gBAWAT;gBACA;gBAAA,IACAO;kBAAA;kBAAA;gBAAA;gBAAA,iCACAP;cAAA;gBAEA;gBACA;gBAEAU;gBACA;gBAAA,cACA;gBAAA,gCACA,yBAGA,yBAGA,yBAGA,yBAGA,yBAGA;gBAAA;cAAA;gBAfA;gBACA;gBAAA;cAAA;gBAEA;gBACA;gBAAA;cAAA;gBAEA;gBACA;gBAAA;cAAA;gBAEA;gBACA;gBAAA;cAAA;gBAEA;gBACA;gBAAA;cAAA;gBAEA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IAEAC;MACA;MACA;MAEA5B;QACAqB;MACA;MAEAQ;QACAR;MACA;MACAQ;QACAR;MACA;IACA;EAAA,EAEA;EACAS,0CACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EAAA,EACA;EACAC,6BACA;EACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACA7B;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5KA;AAAA;AAAA;AAAA;AAAkqC,CAAgB,woCAAG,EAAC,C;;;;;;;;;;;ACAtrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0ca91b30&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ca91b30\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"","var components\ntry {\n  components = {\n    orderYes: function () {\n      return import(\n        /* webpackChunkName: \"components/orderYes/orderYes\" */ \"@/components/orderYes/orderYes.vue\"\n      )\n    },\n    orderNo: function () {\n      return import(\n        /* webpackChunkName: \"components/orderNo/orderNo\" */ \"@/components/orderNo/orderNo.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.orderList_render.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"container\">\n    <div class=\"tab\">\n      <scroll-view scroll-x=\"true\">\n        <text class=\"tab_item\" :class=\"selectType=== 0? 'select':''\" @click.stop=\"select_order(0)\">\n          全部{{ len_all ? `(${len_all})` : '' }}\n        </text>\n        <text class=\"tab_item\" :class=\"selectType=== 1? 'select':''\" @click.stop=\"select_order(1)\">\n          待支付{{ len_wait_pay ? `(${len_wait_pay})` : '' }}\n        </text>\n        <text class=\"tab_item\" :class=\"selectType=== 2? 'select':''\" @click.stop=\"select_order(2)\">\n          待接单{{ len_await_receving ? `(${len_await_receving})` : '' }}\n        </text>\n        <text class=\"tab_item\" :class=\"selectType=== 3? 'select':''\" @click.stop=\"select_order(3)\">\n          处理中{{ len_processing ? `(${len_processing})` : '' }}\n        </text>\n        <text class=\"tab_item\" :class=\"selectType=== 4? 'select':''\" @click.stop=\"select_order(4)\">\n          已完成{{ len_completed ? `(${len_completed})` : '' }}\n        </text>\n        <text class=\"tab_item\" :class=\"selectType=== 5? 'select':''\" @click.stop=\"select_order(5)\">\n          待评价{{ len_comment ? `(${len_comment})` : '' }}\n        </text>\n      </scroll-view>\n    </div>\n    <div class=\"content\">\n      <orderYes class=\"content_children\" :orderList=\"orderList_render\" @refresh_list='getOrderData'\n                v-if=\"orderList_render.length\"></orderYes>\n      <orderNo class=\"content_children\" v-else></orderNo>\n    </div>\n  </view>\n</template>\n\n<script>\nimport {mapState, mapMutations} from \"vuex\"\n\nexport default {\n  data() {\n    return {\n      selectType: 0,\n      // 原始数据\n      orderList: [],\n      // 渲染数据\n      orderList_render: []\n    }\n  },\n  methods: {\n    ...mapMutations('store_user', ['updateToken']),\n    select_order(index) {\n      //  选择模式\n      this.selectType = index\n      //  刷新订单数据\n      uni.startPullDownRefresh()\n    },\n    async getOrderData() {\n      const {data: {code, data, msg, err}} = await uni.$httpRequest({\n        url: \"orders/orderGet\",\n        method: \"post\",\n        data: {\n          getType: 0\n          // getType: this.select\n        },\n        header: {\n          Authorization: `Bearer ${this.token}`\n        }\n      })\n      uni.stopPullDownRefresh()\n      //   判定消息\n      if (!code) {\n        return uni.$showMsg(msg)\n      }\n      // 植入数据(并且翻转)\n      this.orderList = data.reverse()\n\n      console.log('请求回来的数据数据：', this.orderList, this.selectType)\n      //   匹配查看类型\n      switch (this.selectType) {\n        case 0:// 全部\n          this.orderList_render = this.get_all()\n          break\n        case 1://待支付\n          this.orderList_render = this.get_wait_pay()\n          break\n        case 2://待接单\n          this.orderList_render = this.get_await_receving()\n          break\n        case 3://处理中\n          this.orderList_render = this.get_processing()\n          break\n        case 4://已完成\n          this.orderList_render = this.get_completed()\n          break\n        case 5://待评价\n          this.orderList_render = this.get_comment()\n          break\n      }\n    },\n    // 获取全部\n    get_all() {\n      return this.orderList\n    },\n    // 待支付\n    get_wait_pay() {\n      return this.orderList.filter(item => item.payStatus === 0)\n    },\n    // 待接单\n    get_await_receving() {\n      return this.orderList.filter(item => item.payStatus === 1 && item.orderStatus === 0)\n    },\n    // 处理中\n    get_processing() {\n      return this.orderList.filter(item => item.payStatus === 1 && ((item.type === 3 && item.orderStatus === 1) || (item.type === 1 && [2, 3].includes(item.orderStatus))))\n    },\n    // 已完成\n    get_completed() {\n      return this.orderList.filter(item => item.payStatus === 1 && ((item.type === 3 && [3, 4].includes(item.orderStatus)) || (item.type === 1 && [4, 5].includes(item.orderStatus))))\n    },\n    // 待评价\n    get_comment() {\n      return this.orderList.filter(item => item.payStatus === 1 && ((item.type === 3 && item.orderStatus === 4) || (item.type === 1 && item.orderStatus === 5)) && !item.appraise)\n    },\n\n    change_max_height() {\n      //     获取container高度\n      const query = wx.createSelectorQuery()\n\n      wx.getSystemInfo().then(e => {\n        console.log(e)\n      })\n\n      query.select('.container').boundingClientRect(e => {\n        console.log('contianer高度', e.height)\n      }).exec()\n      query.select('.tab').boundingClientRect(e => {\n        console.log('tab高度', e.height)\n      }).exec()\n    },\n\n  },\n  computed: {\n    ...mapState('store_user', ['token']),\n    len_all() {\n      return this.get_all().length\n    },\n    len_wait_pay() {\n      return this.get_wait_pay().length\n    },\n    len_await_receving() {\n      return this.get_await_receving().length\n    },\n    len_processing() {\n      return this.get_processing().length\n    },\n    len_completed() {\n      return this.get_completed().length\n    },\n    len_comment() {\n      return this.get_comment().length\n    }\n  },\n  mounted() {\n  },\n  onPullDownRefresh() {\n    this.getOrderData()\n  },\n  onLoad() {\n    this.change_max_height()\n    this.getOrderData()\n  },\n  onShow() {\n    //   下拉\n    uni.startPullDownRefresh()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.container {\n  height: 100vh;\n  box-sizing: border-box;\n\n  //  表头\n  .tab {\n    //  防止坍塌\n    white-space: nowrap;\n    //  选择对象\n    .select {\n      border-bottom: 3px solid orange;\n      font-weight: bold;\n      color: orangered;\n    }\n\n    .tab_item {\n      display: inline-block;\n      transition: color 0.4s;\n      font-size: 40rpx;\n      margin: 0 5px;\n    }\n  }\n\n  //  订单组\n  .content {\n    //border-top: 1px solid #1FA2FF;\n    padding-top: 2px;\n    box-sizing: border-box;\n    display: flex;\n    height: calc(100% - 40rpx);\n\n    .content_children {\n      width: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1700461086049\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}